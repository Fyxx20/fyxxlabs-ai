(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,136451,e=>{"use strict";let t=(0,e.i(277379).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],136451)},896263,518113,e=>{"use strict";let t=(0,e.i(277379).default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["default",()=>t],518113),e.s(["ChevronRight",()=>t],896263)},291967,928490,e=>{"use strict";function t(e,r,{checkForDefaultPrevented:n=!0}={}){return function(t){if(e?.(t),!1===n||!t.defaultPrevented)return r?.(t)}}"u">typeof window&&window.document&&window.document.createElement,e.s(["composeEventHandlers",()=>t],291967);var r=e.i(863108),n=e.i(950083);function i(e,t){let i=r.createContext(t),a=e=>{let{children:t,...a}=e,o=r.useMemo(()=>a,Object.values(a));return(0,n.jsx)(i.Provider,{value:o,children:t})};return a.displayName=e+"Provider",[a,function(n){let a=r.useContext(i);if(a)return a;if(void 0!==t)return t;throw Error(`\`${n}\` must be used within \`${e}\``)}]}function a(e,t=[]){let i=[],o=()=>{let t=i.map(e=>r.createContext(e));return function(n){let i=n?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...n,[e]:i}}),[n,i])}};return o.scopeName=e,[function(t,a){let o=r.createContext(a),s=i.length;i=[...i,a];let l=t=>{let{scope:i,children:a,...l}=t,d=i?.[e]?.[s]||o,c=r.useMemo(()=>l,Object.values(l));return(0,n.jsx)(d.Provider,{value:c,children:a})};return l.displayName=t+"Provider",[l,function(n,i){let l=i?.[e]?.[s]||o,d=r.useContext(l);if(d)return d;if(void 0!==a)return a;throw Error(`\`${n}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let i=n.reduce((t,{useScope:r,scopeName:n})=>{let i=r(e)[`__scope${n}`];return{...t,...i}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}(o,...t)]}e.s(["createContext",()=>i,"createContextScope",()=>a],928490)},910760,26493,691123,219170,e=>{"use strict";var t,r=e.i(863108),n=e.i(291967),i=e.i(922732),a=e.i(778414),o=e.i(950083);function s(e){var t;let n,i=(t=e,(n=r.forwardRef((e,t)=>{let{children:n,...i}=e;if(r.isValidElement(n)){var o;let e,s,l=(o=n,(s=(e=Object.getOwnPropertyDescriptor(o.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.ref:(s=(e=Object.getOwnPropertyDescriptor(o,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.props.ref:o.props.ref||o.ref),d=function(e,t){let r={...t};for(let n in t){let i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...e)=>{let t=a(...e);return i(...e),t}:i&&(r[n]=i):"style"===n?r[n]={...i,...a}:"className"===n&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}(i,n.props);return n.type!==r.Fragment&&(d.ref=t?(0,a.composeRefs)(t,l):l),r.cloneElement(n,d)}return r.Children.count(n)>1?r.Children.only(null):null})).displayName=`${t}.SlotClone`,n),s=r.forwardRef((e,t)=>{let{children:n,...a}=e,s=r.Children.toArray(n),l=s.find(c);if(l){let e=l.props.children,n=s.map(t=>t!==l?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,o.jsx)(i,{...a,ref:t,children:r.isValidElement(e)?r.cloneElement(e,void 0,n):null})}return(0,o.jsx)(i,{...a,ref:t,children:n})});return s.displayName=`${e}.Slot`,s}var l=Symbol("radix.slottable");function d(e){let t=({children:e})=>(0,o.jsx)(o.Fragment,{children:e});return t.displayName=`${e}.Slottable`,t.__radixId=l,t}function c(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===l}e.s(["createSlot",()=>s,"createSlottable",()=>d],26493);var u=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let n=s(`Primitive.${t}`),i=r.forwardRef((e,r)=>{let{asChild:i,...a}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,o.jsx)(i?n:t,{...a,ref:r})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function p(e,t){e&&i.flushSync(()=>e.dispatchEvent(t))}function f(e){let t=r.useRef(e);return r.useEffect(()=>{t.current=e}),r.useMemo(()=>(...e)=>t.current?.(...e),[])}e.s(["Primitive",()=>u,"dispatchDiscreteCustomEvent",()=>p],691123),e.s(["useCallbackRef",()=>f],219170);var m="dismissableLayer.update",g=r.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),h=r.forwardRef((e,i)=>{let{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:c,onInteractOutside:p,onDismiss:h,...b}=e,v=r.useContext(g),[w,E]=r.useState(null),j=w?.ownerDocument??globalThis?.document,[,C]=r.useState({}),k=(0,a.useComposedRefs)(i,e=>E(e)),I=Array.from(v.layers),[N]=[...v.layersWithOutsidePointerEventsDisabled].slice(-1),R=I.indexOf(N),S=w?I.indexOf(w):-1,T=v.layersWithOutsidePointerEventsDisabled.size>0,P=S>=R,L=function(e,t=globalThis?.document){let n=f(e),i=r.useRef(!1),a=r.useRef(()=>{});return r.useEffect(()=>{let e=e=>{if(e.target&&!i.current){let r=function(){x("dismissableLayer.pointerDownOutside",n,i,{discrete:!0})},i={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",a.current),a.current=r,t.addEventListener("click",a.current,{once:!0})):r()}else t.removeEventListener("click",a.current);i.current=!1},r=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(r),t.removeEventListener("pointerdown",e),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>i.current=!0}}(e=>{let t=e.target,r=[...v.branches].some(e=>e.contains(t));P&&!r&&(d?.(e),p?.(e),e.defaultPrevented||h?.())},j),O=function(e,t=globalThis?.document){let n=f(e),i=r.useRef(!1);return r.useEffect(()=>{let e=e=>{e.target&&!i.current&&x("dismissableLayer.focusOutside",n,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}(e=>{let t=e.target;![...v.branches].some(e=>e.contains(t))&&(c?.(e),p?.(e),e.defaultPrevented||h?.())},j);return!function(e,t=globalThis?.document){let n=f(e);r.useEffect(()=>{let e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[n,t])}(e=>{S===v.layers.size-1&&(l?.(e),!e.defaultPrevented&&h&&(e.preventDefault(),h()))},j),r.useEffect(()=>{if(w)return s&&(0===v.layersWithOutsidePointerEventsDisabled.size&&(t=j.body.style.pointerEvents,j.body.style.pointerEvents="none"),v.layersWithOutsidePointerEventsDisabled.add(w)),v.layers.add(w),y(),()=>{s&&1===v.layersWithOutsidePointerEventsDisabled.size&&(j.body.style.pointerEvents=t)}},[w,j,s,v]),r.useEffect(()=>()=>{w&&(v.layers.delete(w),v.layersWithOutsidePointerEventsDisabled.delete(w),y())},[w,v]),r.useEffect(()=>{let e=()=>C({});return document.addEventListener(m,e),()=>document.removeEventListener(m,e)},[]),(0,o.jsx)(u.div,{...b,ref:k,style:{pointerEvents:T?P?"auto":"none":void 0,...e.style},onFocusCapture:(0,n.composeEventHandlers)(e.onFocusCapture,O.onFocusCapture),onBlurCapture:(0,n.composeEventHandlers)(e.onBlurCapture,O.onBlurCapture),onPointerDownCapture:(0,n.composeEventHandlers)(e.onPointerDownCapture,L.onPointerDownCapture)})});function y(){let e=new CustomEvent(m);document.dispatchEvent(e)}function x(e,t,r,{discrete:n}){let i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?p(i,a):i.dispatchEvent(a)}h.displayName="DismissableLayer",r.forwardRef((e,t)=>{let n=r.useContext(g),i=r.useRef(null),s=(0,a.useComposedRefs)(t,i);return r.useEffect(()=>{let e=i.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),(0,o.jsx)(u.div,{...e,ref:s})}).displayName="DismissableLayerBranch",e.s(["DismissableLayer",()=>h],910760)},525800,e=>{"use strict";var t=e.i(863108),r=globalThis?.document?t.useLayoutEffect:()=>{};e.s(["useLayoutEffect",()=>r])},218767,e=>{"use strict";var t=e.i(863108),r=e.i(525800),n=t[" useId ".trim().toString()]||(()=>void 0),i=0;function a(e){let[a,o]=t.useState(n());return(0,r.useLayoutEffect)(()=>{e||o(e=>e??String(i++))},[e]),e||(a?`radix-${a}`:"")}e.s(["useId",()=>a])},159966,636791,e=>{"use strict";var t=e.i(863108),r=e.i(922732),n=e.i(691123),i=e.i(525800),a=e.i(950083),o=t.forwardRef((e,o)=>{let{container:s,...l}=e,[d,c]=t.useState(!1);(0,i.useLayoutEffect)(()=>c(!0),[]);let u=s||d&&globalThis?.document?.body;return u?r.default.createPortal((0,a.jsx)(n.Primitive.div,{...l,ref:o}),u):null});o.displayName="Portal",e.s(["Portal",()=>o],159966);var s=e.i(778414),l=e=>{var r;let n,a,{present:o,children:l}=e,c=function(e){var r,n;let[a,o]=t.useState(),s=t.useRef(null),l=t.useRef(e),c=t.useRef("none"),[u,p]=(r=e?"mounted":"unmounted",n={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},t.useReducer((e,t)=>n[e][t]??e,r));return t.useEffect(()=>{let e=d(s.current);c.current="mounted"===u?e:"none"},[u]),(0,i.useLayoutEffect)(()=>{let t=s.current,r=l.current;if(r!==e){let n=c.current,i=d(t);e?p("MOUNT"):"none"===i||t?.display==="none"?p("UNMOUNT"):r&&n!==i?p("ANIMATION_OUT"):p("UNMOUNT"),l.current=e}},[e,p]),(0,i.useLayoutEffect)(()=>{if(a){let e,t=a.ownerDocument.defaultView??window,r=r=>{let n=d(s.current).includes(CSS.escape(r.animationName));if(r.target===a&&n&&(p("ANIMATION_END"),!l.current)){let r=a.style.animationFillMode;a.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===a.style.animationFillMode&&(a.style.animationFillMode=r)})}},n=e=>{e.target===a&&(c.current=d(s.current))};return a.addEventListener("animationstart",n),a.addEventListener("animationcancel",r),a.addEventListener("animationend",r),()=>{t.clearTimeout(e),a.removeEventListener("animationstart",n),a.removeEventListener("animationcancel",r),a.removeEventListener("animationend",r)}}p("ANIMATION_END")},[a,p]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:t.useCallback(e=>{s.current=e?getComputedStyle(e):null,o(e)},[])}}(o),u="function"==typeof l?l({present:c.isPresent}):t.Children.only(l),p=(0,s.useComposedRefs)(c.ref,(r=u,(a=(n=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in n&&n.isReactWarning)?r.ref:(a=(n=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in n&&n.isReactWarning)?r.props.ref:r.props.ref||r.ref));return"function"==typeof l||c.isPresent?t.cloneElement(u,{ref:p}):null};function d(e){return e?.animationName||"none"}l.displayName="Presence",e.s(["Presence",()=>l],636791)},221284,e=>{"use strict";var t=e.i(863108),r=e.i(525800);t[" useEffectEvent ".trim().toString()],t[" useInsertionEffect ".trim().toString()];var n=t[" useInsertionEffect ".trim().toString()]||r.useLayoutEffect;function i({prop:e,defaultProp:r,onChange:i=()=>{},caller:a}){let[o,s,l]=function({defaultProp:e,onChange:r}){let[i,a]=t.useState(e),o=t.useRef(i),s=t.useRef(r);return n(()=>{s.current=r},[r]),t.useEffect(()=>{o.current!==i&&(s.current?.(i),o.current=i)},[i,o]),[i,a,s]}({defaultProp:r,onChange:i}),d=void 0!==e,c=d?e:o;{let r=t.useRef(void 0!==e);t.useEffect(()=>{let e=r.current;if(e!==d){let t=d?"controlled":"uncontrolled";console.warn(`${a} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}r.current=d},[d,a])}return[c,t.useCallback(t=>{if(d){let r="function"==typeof t?t(e):t;r!==e&&l.current?.(r)}else s(t)},[d,e,s,l])]}Symbol("RADIX:SYNC_STATE"),e.s(["useControllableState",()=>i],221284)},519455,e=>{"use strict";var t=e.i(950083),r=e.i(863108),n=e.i(24818),i=e.i(294237),a=e.i(975157);let o=(0,i.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),s=r.forwardRef(({className:e,variant:r,size:i,asChild:s=!1,...l},d)=>{let c=s?n.Slot:"button";return(0,t.jsx)(c,{className:(0,a.cn)(o({variant:r,size:i,className:e})),ref:d,...l})});s.displayName="Button",e.s(["Button",()=>s,"buttonVariants",()=>o])},778414,e=>{"use strict";var t=e.i(863108);function r(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function n(...e){return t=>{let n=!1,i=e.map(e=>{let i=r(e,t);return n||"function"!=typeof i||(n=!0),i});if(n)return()=>{for(let t=0;t<i.length;t++){let n=i[t];"function"==typeof n?n():r(e[t],null)}}}}function i(...e){return t.useCallback(n(...e),e)}e.s(["composeRefs",()=>n,"useComposedRefs",()=>i])},294237,e=>{"use strict";var t=e.i(7284);let r=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,n=t.clsx;e.s(["cva",0,(e,t)=>i=>{var a;if((null==t?void 0:t.variants)==null)return n(e,null==i?void 0:i.class,null==i?void 0:i.className);let{variants:o,defaultVariants:s}=t,l=Object.keys(o).map(e=>{let t=null==i?void 0:i[e],n=null==s?void 0:s[e];if(null===t)return null;let a=r(t)||r(n);return o[e][a]}),d=i&&Object.entries(i).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{});return n(e,l,null==t||null==(a=t.compoundVariants)?void 0:a.reduce((e,t)=>{let{class:r,className:n,...i}=t;return Object.entries(i).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...s,...d}[t]):({...s,...d})[t]===r})?[...e,r,n]:e},[]),null==i?void 0:i.class,null==i?void 0:i.className)}])},24818,e=>{"use strict";var t=e.i(863108),r=e.i(778414),n=e.i(950083),i=Symbol.for("react.lazy"),a=t[" use ".trim().toString()];function o(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===i&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}function s(e){var i;let s,l=(i=e,(s=t.forwardRef((e,n)=>{let{children:i,...s}=e;if(o(i)&&"function"==typeof a&&(i=a(i._payload)),t.isValidElement(i)){var l;let e,a,o=(l=i,(a=(e=Object.getOwnPropertyDescriptor(l.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.ref:(a=(e=Object.getOwnPropertyDescriptor(l,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.props.ref:l.props.ref||l.ref),d=function(e,t){let r={...t};for(let n in t){let i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...e)=>{let t=a(...e);return i(...e),t}:i&&(r[n]=i):"style"===n?r[n]={...i,...a}:"className"===n&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}(s,i.props);return i.type!==t.Fragment&&(d.ref=n?(0,r.composeRefs)(n,o):o),t.cloneElement(i,d)}return t.Children.count(i)>1?t.Children.only(null):null})).displayName=`${i}.SlotClone`,s),d=t.forwardRef((e,r)=>{let{children:i,...s}=e;o(i)&&"function"==typeof a&&(i=a(i._payload));let d=t.Children.toArray(i),u=d.find(c);if(u){let e=u.props.children,i=d.map(r=>r!==u?r:t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null);return(0,n.jsx)(l,{...s,ref:r,children:t.isValidElement(e)?t.cloneElement(e,void 0,i):null})}return(0,n.jsx)(l,{...s,ref:r,children:i})});return d.displayName=`${e}.Slot`,d}var l=s("Slot"),d=Symbol("radix.slottable");function c(e){return t.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===d}e.s(["Slot",()=>l,"createSlot",()=>s])},277379,e=>{"use strict";var t=e.i(863108);let r=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,t.forwardRef)(({color:e="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:s="",children:l,iconNode:d,...c},u)=>(0,t.createElement)("svg",{ref:u,...n,width:i,height:i,stroke:e,strokeWidth:o?24*Number(a)/Number(i):a,className:r("lucide",s),...c},[...d.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(l)?l:[l]])),a=(e,n)=>{let a=(0,t.forwardRef)(({className:a,...o},s)=>(0,t.createElement)(i,{ref:s,iconNode:n,className:r(`lucide-${e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,a),...o}));return a.displayName=`${e}`,a};e.s(["default",()=>a],277379)},682212,e=>{"use strict";let t=(0,e.i(277379).default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["default",()=>t])},746798,e=>{"use strict";var t=e.i(950083),r=e.i(863108),n=e.i(291967),i=e.i(778414),a=e.i(928490),o=e.i(910760),s=e.i(218767),l=e.i(868228),d=e.i(159966),c=e.i(636791),u=e.i(691123),p=e.i(26493),f=e.i(221284),m=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),g=r.forwardRef((e,r)=>(0,t.jsx)(u.Primitive.span,{...e,ref:r,style:{...m,...e.style}}));g.displayName="VisuallyHidden";var[h,y]=(0,a.createContextScope)("Tooltip",[l.createPopperScope]),x=(0,l.createPopperScope)(),b="TooltipProvider",v="tooltip.open",[w,E]=h(b),j=e=>{let{__scopeTooltip:n,delayDuration:i=700,skipDelayDuration:a=300,disableHoverableContent:o=!1,children:s}=e,l=r.useRef(!0),d=r.useRef(!1),c=r.useRef(0);return r.useEffect(()=>{let e=c.current;return()=>window.clearTimeout(e)},[]),(0,t.jsx)(w,{scope:n,isOpenDelayedRef:l,delayDuration:i,onOpen:r.useCallback(()=>{window.clearTimeout(c.current),l.current=!1},[]),onClose:r.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>l.current=!0,a)},[a]),isPointerInTransitRef:d,onPointerInTransitChange:r.useCallback(e=>{d.current=e},[]),disableHoverableContent:o,children:s})};j.displayName=b;var C="Tooltip",[k,I]=h(C),N=e=>{let{__scopeTooltip:n,children:i,open:a,defaultOpen:o,onOpenChange:d,disableHoverableContent:c,delayDuration:u}=e,p=E(C,e.__scopeTooltip),m=x(n),[g,h]=r.useState(null),y=(0,s.useId)(),b=r.useRef(0),w=c??p.disableHoverableContent,j=u??p.delayDuration,I=r.useRef(!1),[N,R]=(0,f.useControllableState)({prop:a,defaultProp:o??!1,onChange:e=>{e?(p.onOpen(),document.dispatchEvent(new CustomEvent(v))):p.onClose(),d?.(e)},caller:C}),S=r.useMemo(()=>N?I.current?"delayed-open":"instant-open":"closed",[N]),T=r.useCallback(()=>{window.clearTimeout(b.current),b.current=0,I.current=!1,R(!0)},[R]),P=r.useCallback(()=>{window.clearTimeout(b.current),b.current=0,R(!1)},[R]),L=r.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{I.current=!0,R(!0),b.current=0},j)},[j,R]);return r.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),(0,t.jsx)(l.Root,{...m,children:(0,t.jsx)(k,{scope:n,contentId:y,open:N,stateAttribute:S,trigger:g,onTriggerChange:h,onTriggerEnter:r.useCallback(()=>{p.isOpenDelayedRef.current?L():T()},[p.isOpenDelayedRef,L,T]),onTriggerLeave:r.useCallback(()=>{w?P():(window.clearTimeout(b.current),b.current=0)},[P,w]),onOpen:T,onClose:P,disableHoverableContent:w,children:i})})};N.displayName=C;var R="TooltipTrigger",S=r.forwardRef((e,a)=>{let{__scopeTooltip:o,...s}=e,d=I(R,o),c=E(R,o),p=x(o),f=r.useRef(null),m=(0,i.useComposedRefs)(a,f,d.onTriggerChange),g=r.useRef(!1),h=r.useRef(!1),y=r.useCallback(()=>g.current=!1,[]);return r.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),(0,t.jsx)(l.Anchor,{asChild:!0,...p,children:(0,t.jsx)(u.Primitive.button,{"aria-describedby":d.open?d.contentId:void 0,"data-state":d.stateAttribute,...s,ref:m,onPointerMove:(0,n.composeEventHandlers)(e.onPointerMove,e=>{"touch"!==e.pointerType&&(h.current||c.isPointerInTransitRef.current||(d.onTriggerEnter(),h.current=!0))}),onPointerLeave:(0,n.composeEventHandlers)(e.onPointerLeave,()=>{d.onTriggerLeave(),h.current=!1}),onPointerDown:(0,n.composeEventHandlers)(e.onPointerDown,()=>{d.open&&d.onClose(),g.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:(0,n.composeEventHandlers)(e.onFocus,()=>{g.current||d.onOpen()}),onBlur:(0,n.composeEventHandlers)(e.onBlur,d.onClose),onClick:(0,n.composeEventHandlers)(e.onClick,d.onClose)})})});S.displayName=R;var T="TooltipPortal",[P,L]=h(T,{forceMount:void 0}),O=e=>{let{__scopeTooltip:r,forceMount:n,children:i,container:a}=e,o=I(T,r);return(0,t.jsx)(P,{scope:r,forceMount:n,children:(0,t.jsx)(c.Presence,{present:n||o.open,children:(0,t.jsx)(d.Portal,{asChild:!0,container:a,children:i})})})};O.displayName=T;var z="TooltipContent",D=r.forwardRef((e,r)=>{let n=L(z,e.__scopeTooltip),{forceMount:i=n.forceMount,side:a="top",...o}=e,s=I(z,e.__scopeTooltip);return(0,t.jsx)(c.Presence,{present:i||s.open,children:s.disableHoverableContent?(0,t.jsx)(W,{side:a,...o,ref:r}):(0,t.jsx)(M,{side:a,...o,ref:r})})}),M=r.forwardRef((e,n)=>{let a=I(z,e.__scopeTooltip),o=E(z,e.__scopeTooltip),s=r.useRef(null),l=(0,i.useComposedRefs)(n,s),[d,c]=r.useState(null),{trigger:u,onClose:p}=a,f=s.current,{onPointerInTransitChange:m}=o,g=r.useCallback(()=>{c(null),m(!1)},[m]),h=r.useCallback((e,t)=>{let r,n=e.currentTarget,i={x:e.clientX,y:e.clientY},a=function(e,t){let r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw Error("unreachable")}}(i,n.getBoundingClientRect());c(((r=[...function(e,t,r=5){let n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r})}return n}(i,a),...function(e){let{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}(t.getBoundingClientRect())].slice()).sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:1*!!(e.y>t.y)),function(e){if(e.length<=1)return e.slice();let t=[];for(let r=0;r<e.length;r++){let n=e[r];for(;t.length>=2;){let e=t[t.length-1],r=t[t.length-2];if((e.x-r.x)*(n.y-r.y)>=(e.y-r.y)*(n.x-r.x))t.pop();else break}t.push(n)}t.pop();let r=[];for(let t=e.length-1;t>=0;t--){let n=e[t];for(;r.length>=2;){let e=r[r.length-1],t=r[r.length-2];if((e.x-t.x)*(n.y-t.y)>=(e.y-t.y)*(n.x-t.x))r.pop();else break}r.push(n)}return(r.pop(),1===t.length&&1===r.length&&t[0].x===r[0].x&&t[0].y===r[0].y)?t:t.concat(r)}(r))),m(!0)},[m]);return r.useEffect(()=>()=>g(),[g]),r.useEffect(()=>{if(u&&f){let e=e=>h(e,f),t=e=>h(e,u);return u.addEventListener("pointerleave",e),f.addEventListener("pointerleave",t),()=>{u.removeEventListener("pointerleave",e),f.removeEventListener("pointerleave",t)}}},[u,f,h,g]),r.useEffect(()=>{if(d){let e=e=>{let t=e.target,r={x:e.clientX,y:e.clientY},n=u?.contains(t)||f?.contains(t),i=!function(e,t){let{x:r,y:n}=e,i=!1;for(let e=0,a=t.length-1;e<t.length;a=e++){let o=t[e],s=t[a],l=o.x,d=o.y,c=s.x,u=s.y;d>n!=u>n&&r<(c-l)*(n-d)/(u-d)+l&&(i=!i)}return i}(r,d);n?g():i&&(g(),p())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[u,f,d,p,g]),(0,t.jsx)(W,{...e,ref:l})}),[_,A]=h(C,{isInside:!1}),F=(0,p.createSlottable)("TooltipContent"),W=r.forwardRef((e,n)=>{let{__scopeTooltip:i,children:a,"aria-label":s,onEscapeKeyDown:d,onPointerDownOutside:c,...u}=e,p=I(z,i),f=x(i),{onClose:m}=p;return r.useEffect(()=>(document.addEventListener(v,m),()=>document.removeEventListener(v,m)),[m]),r.useEffect(()=>{if(p.trigger){let e=e=>{let t=e.target;t?.contains(p.trigger)&&m()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[p.trigger,m]),(0,t.jsx)(o.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:d,onPointerDownOutside:c,onFocusOutside:e=>e.preventDefault(),onDismiss:m,children:(0,t.jsxs)(l.Content,{"data-state":p.stateAttribute,...f,...u,ref:n,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,t.jsx)(F,{children:a}),(0,t.jsx)(_,{scope:i,isInside:!0,children:(0,t.jsx)(g,{id:p.contentId,role:"tooltip",children:s||a})})]})})});D.displayName=z;var $="TooltipArrow";r.forwardRef((e,r)=>{let{__scopeTooltip:n,...i}=e,a=x(n);return A($,n).isInside?null:(0,t.jsx)(l.Arrow,{...a,...i,ref:r})}).displayName=$;var B=e.i(975157);let U=r.forwardRef(({className:e,sideOffset:r=4,...n},i)=>(0,t.jsx)(O,{children:(0,t.jsx)(D,{ref:i,sideOffset:r,className:(0,B.cn)("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n})}));U.displayName=D.displayName,e.s(["Tooltip",()=>N,"TooltipContent",()=>U,"TooltipProvider",()=>j,"TooltipTrigger",()=>S],746798)},954787,e=>{"use strict";var t=e.i(950083),r=e.i(863108),n=e.i(922732),i=e.i(136451),a=e.i(277379);let o=(0,a.default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var s=e.i(682212),s=s,l=e.i(896263);let d=(0,a.default)("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]),c=(0,a.default)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),u=(0,a.default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),p=(0,a.default)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);var f=e.i(926812),m=e.i(673635),g=e.i(298516);let h=[{id:"deleteLogo",icon:"ðŸ–¼ï¸",labelKey:"aiImageEditor.toolbar.deleteLogo",prompt:"Remove every logo, brand mark, trademark text, or watermark from the image while maintaining all the aspects of the product image. Rebuild the underlying background cleanly and naturally so no trace of the original branding remains. Preserve the original lighting, texture, colors, proportions, and visual style for a seamless and realistic result."},{id:"removeBackground",icon:"ðŸŽ­",labelKey:"aiImageEditor.toolbar.removeBackground",prompt:"Remove the entire background cleanly while maintaining all the aspects of the product image. Preserve the subject with accurate edges, lighting, textures, and fine details. Replace the background with a smooth, uniform transparent or white backdrop. Keep the product's colors, contours, and natural shadows fully intact."},{id:"lifestyleImage",icon:"ðŸ ",labelKey:"aiImageEditor.toolbar.lifestyleImage",prompt:"Create a realistic lifestyle scene while maintaining all the aspects of the product image. Show the product being used naturally in everyday life with authentic lighting, candid composition, real environments, and subtle shadows and reflections. Ensure the product remains unchanged, accurately represented, and integrated into a genuine lifestyle photograph."},{id:"packshot",icon:"ðŸ“·",labelKey:"aiImageEditor.toolbar.packshot",prompt:"Transform the image into a clean, professional packshot on a pure white background while maintaining all the aspects of the product image. Adjust to a new angle, composition, or framing without altering the product itself. Ensure crisp lighting, sharp focus, accurate colors, and a product-centered layout suitable for e-commerce."},{id:"productView",icon:"ðŸ‘ï¸",labelKey:"aiImageEditor.toolbar.productView",prompt:"Remove all visible logos, brand marks, watermark text, or identifying graphics while maintaining all the aspects of the product image. Restore the product's surface cleanly and realistically, preserving materials, lighting, textures, shapes, and colors. Ensure a seamless result with no added branding."},{id:"beforeAfter",icon:"âš¡",labelKey:"aiImageEditor.toolbar.beforeAfter",prompt:"Create a clear before-and-after comparison showing the transformation or impact while maintaining all the aspects of the product image. Display both versions side by side in a clean, balanced composition with consistent lighting, perspective, and proportions so the difference is immediately visible and easy to compare."}];function y({isOpen:e,onClose:a,images:y,selectedImageUrl:x,onImageGenerated:b,onCreditsChange:v,productId:w,isUploadMode:E=!1,isConnectedViaApp:j=!1}){let{success:C,error:k,warning:I}=(0,m.useToast)(),N=(0,g.useCommonTranslations)(),[R,S]=(0,r.useState)(null),[T,P]=(0,r.useState)(""),[L,O]=(0,r.useState)(null),[z,D]=(0,r.useState)(null),[M,_]=(0,r.useState)(!1),[A,F]=(0,r.useState)(!1),[W,$]=(0,r.useState)("edit"),[B,U]=(0,r.useState)(!1),[H,V]=(0,r.useState)(0),[K,X]=(0,r.useState)(!1),[J,Y]=(0,r.useState)(""),[Z,q]=(0,r.useState)({used:0,limit:0}),[G,Q]=(0,r.useState)(!0),[ee,et]=(0,r.useState)(!1),[er,en]=(0,r.useState)(!1),ei=(0,r.useRef)(null),ea=(0,r.useRef)(null),eo=(0,r.useRef)(null),es=(0,r.useRef)(null),el=(0,r.useCallback)(async()=>{Q(!0),et(!1);try{let e=await fetch("/api/ai/credits"),t=await e.json();if(t.success&&t.data?.credits){let e=t.data.credits.imageGeneration||0,r=t.data.limits?.imageGeneration||0;q({used:Math.max(0,r-e),limit:Math.max(e,r)}),et(!0)}}catch(e){console.error("Failed to fetch credits:",e)}finally{Q(!1)}},[]),ed=async()=>{en(!0);try{let e=window.location.pathname,t=await fetch("/api/ai/credits/buy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({returnUrl:e})}),r=await t.json();r.success&&r.url?window.location.href=r.url:(k(N("aiImageEditor.errors.paymentCreation")),en(!1))}catch(e){console.error("Failed to buy credits:",e),k(N("aiImageEditor.errors.paymentCreation")),en(!1)}};(0,r.useEffect)(()=>{e?(E||!x?(U(!0),S(null)):(U(!1),S(x)),P(""),O(null),D(null),X(!1),Y(""),Q(!0),et(!1),el()):(Q(!0),et(!1))},[e,x,E,el]);let ec=ee&&Z.limit>0,eu=G||!ee,ep=async()=>{if(!J.trim())return void I(N("aiImageEditor.warnings.enterDescription"));if(!ec)return void k(N("aiImageEditor.warnings.insufficientCreditsBuy"));$("generate"),_(!0);try{let e=await fetch("/api/ai/text-to-image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:J,aspect_ratio:"1:1",num_images:1})}),t=await e.json();if(t.success&&t.images?.length>0){let e=t.images[0].url;S(e),U(!1),X(!1),"number"==typeof t.remainingCredits?q(e=>({...e,limit:t.remainingCredits})):el(),v?.(),b?.(e)}else"INSUFFICIENT_CREDITS"===t.code?(el(),v?.(),k(N("aiImageEditor.errors.insufficientCredits"))):k(t.message||N("aiImageEditor.errors.generateImage"))}catch(e){console.error("Error generating image:",e),k(N("aiImageEditor.errors.generateImage"))}finally{_(!1)}},ef=async e=>{try{let t=new FormData;t.append("image",e);let r=await fetch("/api/ai/upload-image",{method:"POST",body:t}),n=await r.json();if(n.success&&n.url)return n.url;return console.error("Upload failed:",n.message),null}catch(e){return console.error("Upload error:",e),null}},em=async e=>{let t=e.target.files?.[0];if(!t)return;$("upload"),_(!0),U(!1),S(URL.createObjectURL(t));let r=await ef(t);r&&S(r),_(!1)},eg=async e=>{let t=e.target.files?.[0];if(!t)return;F(!0);let r=await ef(t);r&&D(r),F(!1)},eh=async e=>{try{let t=await fetch(e),r=await t.blob();return new Promise(e=>{let t=new FileReader;t.onloadend=()=>e(t.result),t.onerror=()=>e(null),t.readAsDataURL(r)})}catch{return null}},ey=async e=>{try{let t=await eh(e);if(!t)return null;let r=await fetch("/api/ai/upload-image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({base64:t})}),n=await r.json();return n.success?n.url:null}catch{return null}},ex=async()=>{if(!R)return void I(N("aiImageEditor.warnings.selectImage"));if(!T.trim())return void I(N("aiImageEditor.warnings.enterInstruction"));if(!ec)return void k(N("aiImageEditor.warnings.insufficientCreditsBuy"));$("edit"),_(!0);try{let e=R;if(R.startsWith("blob:")){let t=await ey(R);if(!t){k(N("aiImageEditor.errors.uploadImage")),_(!1);return}e=t,S(e)}let t=z;if(z?.startsWith("blob:")){let e=await ey(z);e&&(t=e,D(t))}let r=await fetch("/api/ai/edit-image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({source_image:e,prompt:T,input_images:t?[t]:[],num_images:1,aspect_ratio:"auto",output_format:"png"})}),n=await r.json();if(n.success&&n.images?.length>0){let e=n.images[0].url;S(e),"number"==typeof n.remainingCredits?q(e=>({...e,limit:n.remainingCredits})):el(),v?.(),b?.(e,x||void 0)}else"INSUFFICIENT_CREDITS"===n.code?(el(),v?.(),k(N("aiImageEditor.errors.insufficientCredits"))):k(n.message||N("aiImageEditor.errors.modifyImage"))}catch(e){console.error("Error editing image:",e),k(N("aiImageEditor.errors.modifyImage"))}finally{_(!1)}},eb=e=>{eo.current&&eo.current.scrollBy({left:"left"===e?-200:200,behavior:"smooth"})},ev=e=>{es.current&&es.current.scrollBy({left:"left"===e?-200:200,behavior:"smooth"})};if(!e)return null;let ew=(0,t.jsx)("div",{className:"ai-editor-modal-overlay",onClick:a,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(10, 25, 47, 0.85)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",zIndex:999999,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"auto"},children:(0,t.jsxs)("div",{className:"ai-editor-modal",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("button",{className:"ai-editor-close-btn",onClick:a,children:(0,t.jsx)(i.X,{size:24})}),(0,t.jsxs)("div",{className:"ai-editor-top-bar",style:{display:"flex",alignItems:"center",gap:"12px",justifyContent:"flex-end",paddingRight:"60px"},children:[!eu&&!ec&&(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",background:"rgba(239, 68, 68, 0.15)",border:"1px solid rgba(239, 68, 68, 0.3)",padding:"8px 16px",borderRadius:"8px",color:"#fca5a5",fontSize:"13px",fontWeight:500},children:[(0,t.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),(0,t.jsx)("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),(0,t.jsx)("span",{children:N("aiImageEditor.credits.exhausted")})]}),(0,t.jsx)("div",{className:"ai-editor-credits",style:{display:"flex",alignItems:"center",gap:"8px",background:eu||ec?"rgba(255, 255, 255, 0.1)":"rgba(239, 68, 68, 0.15)",padding:"8px 16px",borderRadius:"47px",border:eu||ec?"none":"1px solid rgba(239, 68, 68, 0.3)"},children:eu?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.15)",animation:"pulse 1.5s ease-in-out infinite"}}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[(0,t.jsx)("div",{style:{width:"24px",height:"14px",borderRadius:"4px",background:"rgba(255, 255, 255, 0.15)",animation:"pulse 1.5s ease-in-out infinite"}}),(0,t.jsx)("div",{style:{width:"50px",height:"11px",borderRadius:"4px",background:"rgba(255, 255, 255, 0.15)",animation:"pulse 1.5s ease-in-out infinite"}})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 40 40",style:{transform:"rotate(-90deg)"},children:[(0,t.jsx)("circle",{cx:"20",cy:"20",r:"16",fill:"none",stroke:"rgba(255, 255, 255, 0.2)",strokeWidth:"3"}),(0,t.jsx)("circle",{cx:"20",cy:"20",r:"16",fill:"none",stroke:Z.limit>0?"#335CFF":"#dc3545",strokeWidth:"3",strokeLinecap:"round",strokeDasharray:`${2*Math.PI*16}`,strokeDashoffset:Z.limit>0?2*Math.PI*16*(1-Math.min(1,Z.limit/Math.max(15,Z.limit+Z.used))):2*Math.PI*16,style:{transition:"stroke-dashoffset 0.3s ease"}})]}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",lineHeight:1.2},children:[(0,t.jsx)("span",{style:{fontSize:"14px",color:Z.limit>0?"#fff":"#dc3545",fontWeight:600},children:Z.limit}),(0,t.jsx)("span",{style:{fontSize:"11px",color:"rgba(255, 255, 255, 0.6)",whiteSpace:"nowrap"},children:N("aiImageEditor.credits.label")})]})]})}),!j&&(0,t.jsxs)("button",{onClick:ed,disabled:er,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",background:"#0d6efd",border:"none",borderRadius:"47px",color:"#fff",fontSize:"13px",fontWeight:500,cursor:er?"not-allowed":"pointer",opacity:er?.7:1,transition:"all 0.2s ease"},children:[er?(0,t.jsx)(u,{size:14,className:"animate-spin"}):(0,t.jsx)(p,{size:14}),(0,t.jsx)("span",{children:N("aiImageEditor.credits.buy")})]})]}),(0,t.jsxs)("div",{className:"ai-editor-content",children:[(0,t.jsxs)("div",{className:"ai-editor-thumbnails-wrapper",children:[(0,t.jsx)("button",{className:"thumbnail-add-btn",onClick:()=>{U(!0),S(null)},children:(0,t.jsx)(o,{size:24})}),(0,t.jsx)("div",{className:"thumbnail-divider"}),(0,t.jsx)("button",{className:"thumbnail-nav-btn thumbnail-nav-left",onClick:()=>eb("left"),children:(0,t.jsx)(s.default,{size:16})}),(0,t.jsx)("div",{className:"ai-editor-thumbnails",ref:eo,children:y.map((e,r)=>(0,t.jsx)("div",{className:`thumbnail-item ${R===e?"active":""}`,onClick:()=>{S(e),U(!1)},children:(0,t.jsx)(f.default,{src:e,alt:`Thumbnail ${r+1}`,width:100,height:100,unoptimized:!0,style:{width:"100%",height:"100%",objectFit:"cover"}})},r))}),(0,t.jsx)("button",{className:"thumbnail-nav-btn thumbnail-nav-right",onClick:()=>eb("right"),children:(0,t.jsx)(l.ChevronRight,{size:16})})]}),(0,t.jsxs)("div",{className:"ai-editor-main-image",children:[B?K?(0,t.jsxs)("div",{className:"ai-editor-text-to-image",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"24px",background:"rgba(14, 18, 27, 0.24)",borderRadius:"16px"},children:[(0,t.jsx)(c,{size:48,style:{opacity:.5,marginBottom:"12px",color:"rgba(255,255,255,0.8)"}}),(0,t.jsx)("div",{style:{fontSize:"14px",color:"rgba(255,255,255,0.8)",marginBottom:"16px",textAlign:"center"},children:N("aiImageEditor.textToImage.description")}),(0,t.jsx)("textarea",{value:J,onChange:e=>Y(e.target.value),disabled:M,placeholder:N("aiImageEditor.textToImage.placeholder"),style:{width:"100%",maxWidth:"400px",height:"100px",background:"rgba(14, 18, 27, 0.4)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"12px",padding:"12px",color:"#fff",fontSize:"14px",resize:"none",marginBottom:"16px",opacity:M?.5:1,cursor:M?"not-allowed":"text"}}),(0,t.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,t.jsx)("button",{onClick:()=>X(!1),style:{padding:"10px 20px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.3)",background:"transparent",color:"#fff",cursor:"pointer",fontSize:"13px"},children:N("aiImageEditor.buttons.back")}),(0,t.jsxs)("button",{onClick:ep,disabled:M||!J.trim()||!ec,title:ec?"":N("aiImageEditor.credits.insufficientTitle"),style:{padding:"10px 20px",borderRadius:"8px",border:"none",background:ec?"#0d6efd":"#6b7280",color:"#fff",cursor:ec?"pointer":"not-allowed",fontSize:"13px",display:"flex",alignItems:"center",gap:"8px",opacity:!M&&J.trim()&&ec?1:.5},children:[M?(0,t.jsx)(u,{size:16,className:"animate-spin"}):(0,t.jsx)(c,{size:16}),ec?N("aiImageEditor.buttons.generate"):N("aiImageEditor.credits.insufficient")]})]})]}):(0,t.jsxs)("div",{className:"ai-editor-placeholder",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"rgba(14, 18, 27, 0.24)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"16px",gap:"16px"},children:[(0,t.jsxs)("button",{onClick:()=>{ei.current?.click()},style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",padding:"24px 48px",background:"rgba(255,255,255,0.05)",border:"1px dashed rgba(255,255,255,0.3)",borderRadius:"12px",cursor:"pointer",color:"rgba(255,255,255,0.8)"},children:[(0,t.jsx)(d,{size:36,style:{opacity:.7}}),(0,t.jsx)("span",{style:{fontSize:"14px"},children:N("aiImageEditor.buttons.uploadImage")})]}),(0,t.jsx)("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"12px"},children:N("aiImageEditor.labels.or")}),(0,t.jsxs)("button",{onClick:()=>X(!0),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",background:"#0d6efd",border:"none",borderRadius:"8px",cursor:"pointer",color:"#fff",fontSize:"14px"},children:[(0,t.jsx)(c,{size:18}),N("aiImageEditor.buttons.generateWithAI")]})]}):R?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.default,{src:R,alt:N("aiImageEditor.labels.mainImage"),fill:!0,sizes:"(max-width: 768px) 100vw, 450px",style:{objectFit:"contain",filter:M?"blur(10px)":"none"}}),M&&(0,t.jsxs)("div",{className:"ai-editing-loader",children:[(0,t.jsx)(c,{size:16}),(0,t.jsx)("span",{children:"upload"===W?N("aiImageEditor.loading.upload"):"generate"===W?N("aiImageEditor.loading.generate"):N("aiImageEditor.loading.modify")})]})]}):null,(0,t.jsx)("input",{ref:ei,type:"file",accept:"image/*",onChange:em,style:{display:"none"}})]}),!K&&!B&&(0,t.jsxs)("div",{className:"ai-editor-actions",children:[(0,t.jsxs)("div",{className:"ai-editor-toolbar-wrapper",children:[(0,t.jsx)("button",{className:"toolbar-nav-btn toolbar-nav-left",onClick:()=>ev("left"),type:"button",children:(0,t.jsx)(s.default,{size:16})}),(0,t.jsx)("div",{className:"ai-editor-toolbar",ref:es,children:h.map(e=>(0,t.jsxs)("button",{className:`toolbar-btn ${L===e.id?"active":""}`,onClick:()=>{var t,r;return t=e.id,r=e.prompt,void(O(t),P(r))},type:"button",children:[(0,t.jsx)("i",{className:`ri-${"deleteLogo"===e.id?"image-edit":"removeBackground"===e.id?"eraser":"lifestyleImage"===e.id?"home-heart":"packshot"===e.id?"camera":"productView"===e.id?"eye":"arrow-left-right"}-line`,style:{fontSize:"14px"}}),(0,t.jsx)("span",{children:N(e.labelKey)})]},e.id))}),(0,t.jsx)("button",{className:"toolbar-nav-btn toolbar-nav-right",onClick:()=>ev("right"),type:"button",children:(0,t.jsx)(l.ChevronRight,{size:16})})]}),(0,t.jsxs)("div",{className:"ai-editor-prompt-section",children:[(0,t.jsxs)("div",{className:"prompt-input-container",children:[(0,t.jsx)("textarea",{className:"prompt-input",placeholder:N("aiImageEditor.placeholder"),value:T,onChange:e=>P(e.target.value)}),(0,t.jsxs)("div",{className:"prompt-input-footer",children:[z&&(0,t.jsxs)("div",{className:"reference-thumbnail-container",children:[(0,t.jsx)(f.default,{src:z,alt:"Reference",className:"reference-thumbnail",width:80,height:80,unoptimized:!0,style:{width:"100%",height:"100%",objectFit:"cover"}}),(0,t.jsx)("button",{className:"remove-reference-btn",onClick:()=>D(null),children:(0,t.jsx)(i.X,{size:12})})]}),(0,t.jsx)("button",{className:"upload-reference-btn",onClick:()=>ea.current?.click(),disabled:A,style:{opacity:A?.7:1},children:A?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u,{size:14,className:"animate-spin"}),(0,t.jsx)("span",{children:N("aiImageEditor.buttons.uploadingReference")})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d,{size:14}),!z&&(0,t.jsx)("span",{children:N("aiImageEditor.buttons.addReference")})]})}),(0,t.jsx)("input",{ref:ea,type:"file",accept:"image/*",onChange:eg,style:{display:"none"}})]})]}),(0,t.jsx)("button",{className:`edit-image-btn ${!ec?"no-credits":""}`,onClick:ex,disabled:M||!R||!ec,title:ec?"":N("aiImageEditor.credits.insufficientTitle"),style:ec?void 0:{background:"#6b7280",cursor:"not-allowed"},children:M?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u,{size:16,className:"animate-spin"}),(0,t.jsx)("span",{children:N("aiImageEditor.buttons.modifying")})]}):ec?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c,{size:16}),(0,t.jsx)("span",{children:N("aiImageEditor.buttons.modifyImage")})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c,{size:16}),(0,t.jsx)("span",{children:N("aiImageEditor.credits.insufficient")})]})})]})]})]})]})});return"u">typeof document?(0,n.createPortal)(ew,document.body):ew}e.s(["AIImageEditorModal",()=>y],954787)}]);